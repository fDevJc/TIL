# HTTP완벽가이드_1장_HTTP개관

HTTP 완벽가이드 책을 읽고 정리한 내용입니다.

---

## 1.1 HTTP: 인터넷의 멀티미디어 배달부

- HTTP: Hypertext Transfer Protocol
- 현대 인터넷의 공용어
- 신뢰성있는 데이터 전송 프로토콜
    - 데이터가 지구 반대편에서 오더라도 전송 중 손상, 변형, 순서 등을 보장
- 개발자는 인터넷의 결함이나 약점에 대한 걱정없이 APP 기능 구현에 집중 가능

## 1.2 웹 클라이언트와 서버

- 웹 컨텐츠는 서버에 존재
- 웹 서버는 인터넷의 데이터를 저장, HTTP 클라이언트가 요청한 데이터를 제공
- 가장 흔한 HTTP 클라이언트는 웹브라우저

## 1.3 리소스

- 웹 서버는 웹 리소스를 관리하고 제공
- 웹 리소스
    - 정적파일: 텍스트, HTML, 이미지, 워드, 동영상 등 모든 종류의 파일
    - 비 정적파일: 리소스 요청에 따라 콘텐츠를 생상하는 프로그램 등

### 1.3.1 미디어 타입

- HTTP는 웹에서 전송되는 객체에 MIME 타입이라는 데이터 포맷 라벨을 붙인다.
- MIME: Multipurpose Internet Mail Extensions, 다목적 인터넷 메일 확장
    - 이메일에서 잘작동해서 HTTP에서도 채택되었음
- 사선(/)으로 구분된 주 타입과 부 타입으로 이루어진 문열 라벨
    - HTML: text/html
    - 텍스트문서: text/plain
    - JPEG 이미지: image/jpeg
    - GIF 이미지: image/gif
    - 등

### 1.3.2 URI

- URI: Uniform Resource Identifier, 통합 지원 식별자
- 인터넷 우편물 주소 개념으로, 정보 리소스를 고유하게 식별하고 위치를 지정할 수 있다.

### 1.3.3 URL

- URL: Uniform Resource Locator, 통합 지원 지시자
- 특정 서버의 한 리소스에 대한 구체적인 위치를 서술
- 세 부분의 표준 포맷을 따른다
    - http:// www.joes-hardware.com /special/saw-balde.gif
    - http:// → 스킴(schem) 이라 불리며, 리소스 접근을 위한 프로토콜 서술
    - www.joes-hardware.com → 서버의 인터넷 주소를 가리킴
    - /special/saw-balde.gif → 웹 서버의 리소스를 가리킴
- 오늘날 대부분의 URI는 URL이다.

### 1.3.4 URN

- URN: Uniform Resource Name, 통합 지원 이름
- 리소스의 위치에 영향을 받지 않는 유일무이한 이름
- 리소스를 여기저기로 옮기더라도 문제 없이 동작
- ex) RFC2141인터넷 표준문서의 URN → urn:ietf:rfc:2141
- 실험중인 상태이며 널리 채택 X
- 🤔  이름을 외우기도 힘들고, 과연 사용하게 될지 모르겠음

## 1.4 트랜잭션

- HTTP 트랜잭션은 요청명렁과 응답결과로 구성

### 1.4.1 메서드

- HTTP는 HTTP메서드라고 불리는 여러 가지 종류의 요청 명령을 지원
    - GET, PUT, DELETE, POST, HEAD 등 ...

### 1.4.2 상태코드

- 상태코드는 요청메시지에 대한 응답이 응답메시지에 담겨 반환된다
    - 2xx, 3xx, 4xx, 5xx 등 다양한 상태코드가 존재한다.
- 상태코드와 함께 간단한 텍스트로 된 사유 구절을 함께 보낸다.

### 1.4.3 웹페이지는 여러 객체로 이루어질 수 있다

- 애플리케이션은 보통 하나의 작업을 수행하기 위해 여러 HTTP 트랜잭션 수행
    - [www.google.com](http://www.google.com) 요청시 네트워크
        
        ![스크린샷 2022-05-11 오후 1.11.36.png](HTTP%E1%84%8B%E1%85%AA%E1%86%AB%E1%84%87%E1%85%A7%E1%86%A8%E1%84%80%E1%85%A1%E1%84%8B%E1%85%B5%E1%84%83%E1%85%B3_1%E1%84%8C%E1%85%A1%E1%86%BC_HTTP%E1%84%80%E1%85%A2%E1%84%80%E1%85%AA%E1%86%AB%2052fb4fddd85645618b08f7a7e7d35acf/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2022-05-11_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_1.11.36.png)
        
    - 하나의 리소스 요청 →
    - 페이지 레이아웃을 서술하는 HTML을 한번의 트랜잭션 →
    - 첨부된 이미지, script 등등의 리소스를 가져오기위한 여러번의 트랜잭션 수행
    - 이처럼 웹페이지는 보통 하나의 리소스가 아닌 리소스의 모음

## 1.5 메시지

- HTTP 메시지는 단순한 줄 단위의 문자열
- 이진 형식이 아닌 일반 텍스트 형식이기 때문에 사람이 읽고 쓰기 쉽다
- 웹 클라이언트 → 웹 서버 로 보낸 HTTP메시지: 요청메시지
- 웹 서버 → 웹 클라이언트 로 보낸 HTTP메시지: 응답메시지
- 시작줄, 헤더, 본문으로 이루어짐

## 1.6 TCP 커넥션

- TCP: Transmission Control Protocol, 전송 제어 프로토콜

### 1.6.1 TCP/IP

- HTTP는 애플리케이션 계층 프로토콜
- HTTP는 네트워크 통신의 핵심적인 세부사항에 대해서는 신경 X
- 대신 대중적이고 신뢰성있는 인터넷 전송 프로토콜인 TCP/IP에게 맡김
- TCP 특징
    - 오류 없는 데이터 전송
    - 순서 보장
    - 조각나지 않는 데이터 스트림
- TCP/IP는 TCP와 IP가 층을 이루는, 패킷 교환 프로토콜의 집합
- 각 네트워크가 하드웨어의 특성을 숨기고 어느 컴퓨터나 어느 네트워크든 신뢰성 있는 의사소통 제공
- 네트워크 프로토콜
    
    
    | 애플리케이션 계층(HTTP,FTP..) |
    | --- |
    | 전송 계층(TCP,UDP..) |
    | 네트워크 계층(IP..) |
    | 데이터 링크 계층  |
    | 물리 계층 |

### 1.6.2 접속, IP 주소 그리고 포트번호

- IP: Internet Protocol, 인터넷 프로토콜
- 클라이언트가 서버에 메시지 전송 전, IP주소와 포트번호를 사용해 서버와의 TCP/IP 커넥션을 맺어야 한다
- TCP에서는 서버 컴퓨터에 대한 IP주소와 그 서버에서 실행중인 프로그램의 포트번호가 필요하다.
- 서버의 IP 주소와 포트번호는 어떻게 알수있을까?
    - URL을 이용하면 된다. URL은 리소스를 가지고있는 장비에 대한 IP를 알려줄 수 있다.
- [http://www.google.com](http://www.google.com)의 경우 IP주소가 없다.
    - 이 경우 호스트명을 도메인 이름 서비스(Domain Name Service)를 통해 IP로 변환할 수 있다.
- 클아이언트에서 서버로 HTML 리소스를 요청한 경우 순서
    1. 웹 브라우저는 서버의 URL에서 호스트명을 추출
    2. 웹 브라우저는 DNS를 이용해 호스트명을 IP로 변환
    3. 포트번호가 있다면 포트번호 추출
    4. 웹 서버와 TCP 커넥션
    5. HTTP 요청
    6. HTTP 응답
    7. 커넥션 종료, 브라우저는 문서를 보여준다

## 1.7 프로토콜 버전

- HTTP/0.9
    - 1991년 프로토타입으로 알려져있음
- HTTP/1.0
    - 처음으로 널리 쓰이기 시작한 버전
- HTTP/1.0+
- HTTP/1.1
- HTTP/2.0
- HTTP/3.0

## 1.8 웹의 구성요소

- 프록시
    - 클라이언트와 서버 사이에 위치한 HTTP 중개자
    - 주로 보안을 위해 사용
    - 요청과 응답을 필터링
- 캐시
    - 많이 찾는 웹페이지를 클라이언트 가까이에 보관하는 HTTP 창고
- 게이트 웨이
    - 다른 애플리케이션과 연결된 특별한 웹서버
    - HTTP 트래픽을 다른 프로토콜로 변환하기 위해 사용
    - 스스로가 리소스를 가지고 있는 진짜 서버인 것처럼 요청을 다룸
- 터널
    - 단순히 HTTP 통신을 전달하기만 하는 특별한 프록시
    - 두 커넥션 사이에 날 데이터를 열어 보지 않고 그대로 전달
    - 주로 비 HTTP 데이터를 하나 이상의 HTTP 연결을 통해 그대로 전송해주기 위해 사용
    - 암호화된 SSL 트래픽을 HTTP 커넥션으로 전송함으로써 웹 트래픽만 허용하는 사내 방화벽을 통과
    - 🤔  HTTPS에 적용된게 터널인가 ?? 터널과 관련된 장에서 자세히 알아보자
- 에이전트
    - 자동화된 HTTP 요청을 만드는 준지능적 웹클라이언트
    - 스파이더, 웹로봇 등...