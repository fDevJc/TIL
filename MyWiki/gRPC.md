# gRPC

## 자료모으기

- gRPC는 구글에서 개발한 어느 환경에서 실행할 수 있는 최신 오픈 소스 고성능 RPC 프레임워크
- RPC : Remote Procedure Call의 약자로 별도의 원격 제어를 위한 코딩 없이 다른 주소 공간에서 함수나 프로시저를 실행할 수 있게하는 프로세스 간 통신 기술이다. MSA 아키텍처에서 다양한 언어와 프레임워크로 서비스가 개발되는 경우 RPC를 이용하여 언어에 구애받지 않고, 원격에 있는 프로시저를 호출하여 고유 프로그램의 개발에 집중할 수 있게 해주는 기술
- gRPC를 이용하면 원격에 있는 애플리케이션의 메서드를 로컬 메서드인 것처럼 직접 호출할 수 있기 때문에 분산 애플리케이션과 서비스를 보다 쉽게 만들 수 있다
- stub
    - RPC의 핵심 개념으로 파라미터 객체를 메세지로 마샬링, 언마샬링 하는 레이어
    - 서버와 클라이언트는 서로 다른 주소 공간을 사용하므로 함수 호출에 사용된 매개 변수를 꼭 변환해줘야한다. 그렇지 않으면 메모리 매개 변수에 대한 포인터가 다른 데이터를 가리키게 되기 때문
- protocol buffer
    - gRPC는 IDL(Interface Definition Language)로 protocol buffer를 사용
    - protocol buffer는 직렬화 데이터 구조. 어떤 언어나 플랫폼에서도 통신 프로토콜이나 데이터 저장을 사용할 때, 구조화된 데이터를 전환하게 해주는 방법
    - 직렬화의 종류에는 대표적으로 Json, XML이 존재
- gRPC 특징
    1. 높은 생산성과 다양한 언어 및 플랫폼 지원
        - 서비스와 메시지를 정의하기 위해 프로토콜 버퍼를 사용. 프로토콜 버퍼의 IDL만 정의하면 서비스와 메세지에 대한 소스코드가 자동으로 생성되고 데이터를 주고 받을 수 있다.
    2. HTTP/2 기반의 양방향 스트리밍
        - HTTP/2는 하나의 TCP 연결이 여러 개의 양방향 스트리밍을 지원
    3. 성능 이점
        - HTTP/2 레이어 위에서 프로토콜 버퍼를 사용해 직렬화된 바이트 스트림으로 통신하여 JSON 기반의 통신보다 더 가볍고 통신 속도가 빠르다. 때문에 laytency 감소와 더많은 트래픽을 처리할 수 있는 성능의 이점이 있다.

## Reference
- [gRPC Documentation](https://grpc.io/docs/)
- [gRPC 란 : RPC, gRPC 작동원리, HTTP API (json) 비교](https://rokroks.tistory.com/49)