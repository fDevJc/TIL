# 알림 시스템 설계
- 알림 시스템
    - 모바일 푸시 알림
    - SMS 메시지
    - 이메일
- 1단계 문제 이해 및 설계 범위 확정
    - 어느 종류의 알림 지원
    - 연성 실시간(soft real-time)
    - 지원 단말
    - 클라이언트? 서버측?
- 2단게 개략적 설계안 제시 및 동의 구하기
    - ios 푸시 알림
        - 애플 푸시 알림 서비스(APNS)
            - 단말 토큰
                - 알림 요청을 보내는 데 필요한 고유 식별자
            - 페이로드
                - JSON 딕셔너리
    - 안드로이드 푸시 알림
        - FCM (APNS 대신)
        - ios 푸시와 유사
    - SMS 메시지
        - 트윌리오, 넥스모 등등 제3사업자
    - 이메일
        - 상용 이메일 서비스
    - 연락처 정보 수집 절차
        - 앱설치, 가입 등을 통해 모바일 단말 토큰, 전화번호, 이메일 주소등의 정보를 수집
    - 초안
        - 서비스N -> 알림시스템 -> 제3자 제공 서비스
        - SPOF: 알림 시스템의 서버가 하나밖에 없음
        - 규모 확장성
    - 개선
        - 서비스N -> 알림서버(캐시, DB 분리) -> 각 푸시 알림 큐 -> 작업서버N -> 제3자
- 3단계 상세 설계
    - 안정성
        - 데이터 손실 방지
            - 알림 미전송
            - 알림 로그 관련 데이터베이스 마련
        - 알림 중복 전송 방지
    - 추가로 필요한 컴포넌트 및 고려사항
        - 알림 템플릿
        - 알림설정
        - 전송률 제한
        - 재시도 방법
        - 큐 모니터링
        - 이벤트 추적
    - 수정된 설계안
        - 서비스 N -> 알림서버(인증,전송률제한 ->캐시, 디비) -> 큐 -> 작업서버(재시도, 알림로그) -> 제3자
        
        