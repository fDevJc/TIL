# 도메인 서비스
## 여러 애그리거트가 필요한 기능
- 한 애그리거트에 넣기에 애매한 도메인 기능을 특정 애그리거트에 억지로 구현 X
- 이 경우 애그리거트는 자신의 책임 범위를 넘어서 코드가 길어지고 외부에 대한 의존이 높아진다
- 코드를 복잡하게 만들어 수정을 어렵게 만드는 요인이 된다
- 해결 방법은 도메인 서비스를 별도로 구현

## 도메인 서비스
- 한 애그리거트에 넣기 애매한 도메인 개념을 구현하려면 애그리거트에 억지로 넣기보다는 도메인 서비스를 이용해서 도메인 개념을 명시적으로 드러내면 된다
- 도메인 서비스가 도메인 영역의 애그리거트나 밸류와 같은 다른 구성요소와 비교할때 다른 점이 있다면 상태 없이 로직만 구현한다는 점이다.
- 도메인 서비스를 구현하는데 필요한 상태는 애그리거트나 다른 방법으로 전달
- 도메인 서비스를 사용하는 주체는 애그리거트가 될 수도 있고 응용 서비스가 될 수도 있다.
- 애그리거트에 도메인 서비스를 전달하는 것은 응용 서비스 책임이다
- 애그리거트 메서드를 실행할 때 도메인 서비스를 인자로 전달하지 않고 반대로 도메인 서비스의 기능을 실행할 때 애그리거트를 전달하기도 한다

> 특정 기능이 응용 서비스인지 도메인 서비스인지 감을 잡기 어려울 때는 해당 로직이 애그리거트의 상태를 변경하거나 애그리거트의 상태 값을 계산하는지 검사해 보면 된다. 예를 들어, 계좌 이체 로직은 계좌 애그리거트의 상태를 변경한다. 결제 금액 로직은 주문 애그리거트의 주문 금액을 계산한다. 이 두 로직은 각각 애그리거트를 변경하고 애그리거트의 값을 계산하는 도메인 로직이다. 도메인 로직이면서 한 애그리거트에 넣기 적합하지 않으므로 이 두 로직은 도메인 서비스로 구현하게 된다.

## 도메인 서비스의 패키지 위치

## 도메인 서비스의 인터페이스와 클래스
- 도메인 서비스의 구현이 특정 구현 기술에 의존적이거나 외부 시스템의 API를 실행한다면 도메인 영역의 도메인 서비스는 인터페이스로 추상화해야 한다