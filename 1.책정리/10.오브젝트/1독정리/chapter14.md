## Chapter14 일관성 있는 협력
- 객체는 협력을 위해 존재
- 협력은 객체가 존재하는 이유와 문맥을 제공
- 객체지향 설계의 목표는 적절한 책임을 수행하는 객체들의 협력을 기반으로 결합도가 낮고 응집도가 높으며 변화에 유연한 코드 구조를 창조 하는것
- 객체지향 패러다임의 장점은 설계를 재사용할 수 있다는 것
- 재사용을 위해서는 객체들의 협력 방식을 `일관성` 있게 만들어야 한다
- 협력을 일관성있게 만들기 위해
    - 다양한 설계 경험
    - 적당한 디자인 패턴 적용
    - 변하는 개념을 변하지 않는 개념으로부터 분리
    - 변하는 개념을 캡슐화
- 애플리케이션에서 달라지는 부분을 찾아내고, 달라지지 않는 부분으로 분리한다! 바뀌는 부분은 캡슐화!
- 객체지향에서 변경을 다루는 방법은 조건 로직을 객체 사이의 이동으로 바꾸어보는 것
    - 다형성은 조건 로직을 객체 사이의 이동으로 바꾸기 위해 객체지향이 제공하는 설계 기법
    - 커다란 클래스를 더작은 클래스로 분리
    - 분리하기 위한 기준은? 변경의 이유와 주기
    - 클래스는 명확히 단 하나의 이유에 의해서만 변경돼야 하고 클래스 안의 모든 코드는 함께 변경돼야 한다
    - 단일 책임 원칙을 따르도록 분리해야한다
    - 큰 메서드 안에 뭉쳐있던 조건 로직들을 작은 클래스들로 분리하고 나면 인스턴스 사이의 협력 패턴에 일관성을 부여하기 쉬워진다
    - 유사한 행동을 수행하는 작은 클래스들이 자연스러운 역할이라는 추상화로 묶이게 되고 사이에서 이뤄지는 협력방식이 일관성을 유지하게 도와준다
- 협력을 일관성있게 만들기 위해 따라야 하는 지침
    - 변하는 개념을 변하지 않는 개념으로부터 분리하라
    - 변하는 개념을 캡슐화하라
        - 핵심은 훌륭한 추상화를 찾아 추상화에 의존하도록 만드는것
        - 추상화에 대한 의존은 결합도를 낮추고 의존성을 낮춤
        - 추상화의 품질이 캡슐화의 품질을 결정
- 캡슐화
    - 데이터은닉: 오직 외부에 공개된 메서드를 통해서만 객체 내부에 접근하게 제한하여 객체 내부의 상태 구현을 숨기는 기법
    - 캡슐화는 데이터 은닉 이상
    - 캡슐화는 변하는 것을 감추는 것
    - 데이터 캡슐화
        - 정보 은닉
    - 메서드 캡슐화
        - 내부 구현을 숨기고 퍼블릭 인터페이스만 공개
    - 객체 캡슐화
        - 합성
    - 서브타입 캡슐화
        - 다형성
- 지속적으로 개선하라
    - 협력을 설계하는 초기 단계에서 모든 요구사항을 미리 예상할 수 없기 때문에 이것은 잘못이 아니며 꽤나 자연스러운 현상
    - 협력은 고정된 것이 아니다
    - 요구사항의 변경에 따라 협력 역시 지속적으로 개선해야 한다
    - 지속적인 리팩터링!!!!!!!!!!!!!

---

## 정리
- 좋은 설계는 확장, 변경 등을 일관성있게 할 수 있도록 도와주고 개발자들에게 일관성을 강제하며 실제 구현에 좀더 집중할 수 있게 한다
- 좋은 설계의 중요성에 대해서 계속 생각해보게 되는 좋은 책!
