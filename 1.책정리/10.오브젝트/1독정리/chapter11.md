## Chapter11 합성과 유연한 설계
- 상속과 합성은 객체지향 프로그래밍에서 가장 널리 사용되는 코드 재사용 기법
- 상속
    - 부모 클래스와 자식클래스를 연결해서 부모 클래스의 코드를 재사용
    - 부모 클래스와 자식클래스 사이의 의존성은 컴파일 타임
    - is-a 관계
    - 구현에 의존
    - 클래스 사이의 정적인 관계
    - 부모 클래스안에 구현된 코드 자체를 재사용
    - 화이트박스 재사용(내부가 공개)
    - 조합의 결과를 개별클래스 안으로 밀어넣는 방법
- 합성
    - 전체를 표현하는 객체가 부분을 표현하는 객체를 포함해서 부분 객체의 코드를 재사용
    - 두 객체 사이의 의존성은 런타임
    - has-a 관계
    - 구현에 의존하지 않는다, 내부에 포함되는 객체의 구현에 의존하는 것이 아닌 퍼블릭 인터페이스에 의존
    - 객체 사이의 동적인 관계
    - 포함되는 객체의 퍼블릭 인터페이스를 재사용
    - 블랙박스 재사용(내부 비공개)
    - 조합을 구성하는 요소들을 개별 클래스로 구현한 후 인스턴스를 조립하는 방법
- 합성을 이용하면 포함된 객체의 내부 구현이 변경되더라도 영향을 적게 받음
- 합성을 이용하면 구현에 대한 의존성을 `인터페이스 의존성`으로 변경가능
- 포워딩
    - 기존 클래스의 인터페이스를 그대로 외부에 제공하면서 구현에 대한 결합 없이 일부 작동 방식을 변경하고 싶은 경우에 사용할 수 있는 유용한 기법
- 구현이 아닌 인터페이스에 의존하면 설계가 유연
- 추상 메서드와 훅 메서드
    - 추상메서드의 단점은 상속 계층에 속하는 모든 자식 클래스가 추상 메서드를 오버라이딩해야 한다는 것
    - 추상 메서드와 동일하게 자식 클래스에서 오버라이딩할 의도로 메서드를 추가했지만 편의를 위해 기본 구현을 제공하는 메서드를 `훅메서드`
- 컴파일 의존성과 런타임 의존성의 거리가 멀수록 설계가 유연

---

## 정리
- 이전까지 코드의 재사용 측면에서 합성을 이용했던거 같은데 상속은 다형성이 요구될때 사용해야겠다는 생각
- 먼저 합성을 고려하고 상속을 고려하자