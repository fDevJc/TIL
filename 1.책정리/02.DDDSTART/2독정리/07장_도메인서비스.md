# 도메인 서비스
- 도메인 영역의 코드를 작성하다 보면 한 애그리거트로 기능을 구현할 수 없을 때가 있다
- 한 애그리거트에 넣기에 애매한 도메인 기능을 특정 애그리거트에서 억지로 구현하면 안된다.
- 애그리거트는 자신의 책임 범위를 넘어서는 기능을 구현하기 때문에 코드가 길어지고 외부에 대한 의존이 높아지게 된다.
- 이는 코드를 복잡하게 만들어 수정을 어렵게 만드는 요인이 된다.
- 게다가 애그리거트의 범위를 넘어서는 도메인 개념이 애그리거트에 숨어들어서 명시적으로 드러나지 않게 된다
- 이때 도메인 서비스를 별도로 구현하는 것

## 도메인 서비스
- 한 애그리거트에 넣기 애매한 도메인 개념을 구현하려면 애그리거트에 억지로 넣기보다는 도메인 서비스를 이용해서 도메인 개념을 명시적으로 드러낸다
- 도메인 서비스가 도메인 영역의 애그리거트나 밸류와 같은 다른 구성요소와 비교할 때 다른 점은 상태 없이 로직만 구현한다는 점
- 도메인 서비스를 구현하는 데 필요한 상태는 애그리거트나 다른 방법으로 전달받는다
- 도메인 서비스를 사용하는 주체는 애그리거트 혹은 응용 서비스
    - 애그리거트가 도메인 서비스를 이용할때에 도메인 서비스를 전달해주는 것은 응용서비스의 책임
    - 도메인 서비스 객체를 애그리거트에 프레임워크를 이용하여 의존성을 주입하면?
        - 애그리거트 루트 엔티티의 필드에 도메인 서비스에 대한 참조가 존재하게 된다 이는 데이터 자체와는 관련이 없다, 저장대상도 아니다, 이는 좋은 생각이 아니다
    - 도메인 서비스의 기능에 애그리거트를 전달하는 경우도 있다
    - 도메인 서비스는 도메인 로직을 수행하지 응용 로직을 수행하지는 않는다.

> 특정 기능이 응용 서비스인지 도메인 서비스인지 감을 잡기 어려울 때는 해당 로직이 애그리거트의 상태를 변경하거나 애그리거트의 상태 값을 계산하는지 검사해 보면 된다. 🤔 응용서비스에서도 애그리거트의 루트 엔티티를 통해 애그리거트의 상태를 변경하지 않나..??

- 도메인 서비스의 패키지 위치
    - 다른 도메인 구성요소와 동일한 위치
    - 도메인 서비스의 구현이 특정 구현 기술에 의존적이거나 외부시스템의 API를 실행한다면 도메인 영역의 도메인 서비스는 인터페이스로 추상화해야 한다
    