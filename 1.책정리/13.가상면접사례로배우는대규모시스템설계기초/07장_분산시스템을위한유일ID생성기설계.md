# 분산 시스템을 위한 유일 ID 생성기 설계
## 1. 문제 이해 및 설계 범위 확정
- ID의 특성?
- ID의 증가 단위?
- ID는 숫자로만?
- 시스템 규모는?

## 2. 개략적 설계안 제시 및 동의 구하기
- 다중 마스터 복제
    - 각각의 데이터 베이스에서 auto_increment 기능을 활용
    - 1씩 증가 시키는 것이아니라 서버의 대수만큼
        - 서버1, 서버2
        - 서버1 -> 1,3,5...
        - 서버2 -> 2,4,6...
    - 규모를 늘리기 어렵다
    - 유일성은 보장되지만 시간 흐름에 맞게 커지도록 보장할 수 없다
- UUID
    - 만드는 것은 단순
    - 규모 확장 쉬움
    - ID가 길다(128비트)
    - 시간순으로 정렬할 수 없다
    - 숫자가 아닌 값이 포함될 수 있다
- 티켓 서버
    - 하나의 티켓서버를 두고 티켓서버에서 유일한 ID값을 받아온다
    - 유일성이 보장되는 숫자 ID를 쉽게 만들 수 있다
    - 구현이 쉽고, 중소 규모 애플리케이션에 적합
    - 티켓 서버가 SPOF가 된다
- 트위터 스노플레이크 접근법
    - 특정 비트를 각각의 단위로 나뉘어서 아이디를 생성
    - ex) 총 64비트 -> n비트(타임스탬프) + n비트(데이터센터ID) + n비트(서버ID) + n비트(일련번호) ..
    - 타임스탬프를 사용할 경우 각 서버의 시간 동기화
    - 각 항목의 비트길이 조절
    