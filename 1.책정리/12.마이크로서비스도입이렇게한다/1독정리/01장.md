# 더도 덜도 아닌 딱 마이크로서비스
## 마이크로서비스란 무엇인가?
- 마이크로서비스란 비즈니스 도메인을 중심으로 모델링된 `독립적으로 배포` 가능한 서비스
- 마이크로서비스는 네트워크를 통해 서로 통신
- 마이크로서비스도 SOA(서비스 지향 아키텍처)의 한 유형
- 기술 관점에서 마이크로서비스는 하나 이상의 네트워크 종단점을 통해 캡슐화된느 비즈니스 기능을 외부에 공개
### 독립적인 배포 가능성
- 독립적인 배포 가능성이란 다른 서비스를 활용하지 않고서 마이크로서비스에 변경을 가하는 방식으로 서비스 환경에 배포할 수 있다는 개념
### 비즈니스 도메인을 중심으로 하는 모델링
- 마이크로서비스의 경우 프로세스 경계를 넘어서는 변경에는 비용이 많이 든다.
- 콘웨이 법칙
    - 조직의 커뮤니케이션 구조를 본떠 시스템 구조를 만들어 낸다
- 전통적인 3계층 아키텍처를 구현하면 UI팀, 백엔드, 디비관리로 팀이 나뉘어진다.
- 최근에는 빠른 서비스 출시를 위해 다재다능한 팀을 원한다
    - 즉 UI+백엔드+디비+기획등 다양한 인원이 한팀이 되어 빠르게 서비스를 만든다
    - 시스템의 구조는 이러한 커뮤니케이션 구조를 따라간다(MSA)
- 3계층 아키텍처는 `기술관점에서 응집력이 높지만` `비즈니스 관점에서는 응집력이 낮다`
- 기능 변경은 주로 비즈니스 기능 변경에 초점을 맞춘다 그러므로 비즈니스 관점에서의 응집력을 선택할 필요가 있다
### 데이터 소유권 문제
- 데이터와 행동을 캡슐화하면 비즈니스 기능의 응집력이 높아진다
### 마이크로서비스 장점
- 배포의 독리적인 특성으로 인해 시스템의 확장성과 견고성을 개선
- 다양한 기술을 짜맞출 수 있다
- 서비스의 병렬 개발 작업이 가능
- 유연성을 제공
### 마이크로서비스가 야기하는 문제점
- 네트워크
- 내생각
    - 오류 전파
    - 트랜잭션
    - 테스트 배포 등 복잡
### 사용자 인터페이스
### 기술
### 규모
### 소유권
## 모놀리스
### 단일 프로세스 모놀리스
- 모든 코드가 단일 프로세스로 배포
- 모듈식 모놀리스
### 분산 모놀리스
### 외부 블랙박스 시스템
- 상용 소프트웨어, SaaS
### 모놀리스의 문제점
- 배포 경합
- 혼란스러운 소유권의 경계선
### 모놀리스의 장점
- 코드 재사용이 편하다
## 결합도와 응집력
- 결합도는 한 가지를 바꾸면 다른 것도 바꿀 필요가 있는 방식
- 응집력은 관련된 코드를 그룹으로 묶는 방식을 뜻한다
- 구조는 응집력이 높고 결합도가 낮을 때 안정적이다
- 

---
## 참고
- SOA
    - https://aws.amazon.com/ko/what-is/service-oriented-architecture/
    - https://azderica.github.io/01-architecture-soa/
- 독립적인 배포
    - https://brunch.co.kr/@cleancode/32
## 정리
- 내가 사이드 프로젝트로 진행했던 갓생살기는 MSA라고 생각했는데 SOA인듯..
- 독립적인 배포
    - 현재는 배포에 대한 부분은 큰 의미가 없고 독립적으로 개발가능하다라는 의미로는 아직 유효하다
- 콘웨이 법칙
    - 최근 빠른 개발, 배포등 빠른 서비스를 제공하기위해서 조직의 커뮤니케이션 구조가 바뀌었다. 그러한 영향으로 시스템의 아키텍처도 변화를 보인다.
- 결국 객체지향의 5대 원칙이 중요한거 같다
    - 객체사이의 결합도, 응집도를 고려한다
    - 모듈사이의 결합도, 응집도를 고려한다
    - 컴포넌트사이의 결합도, 응집도를 고려한다
    - 도메인사이의 결합도, 응집도를 고려한다
    - 애그리거트사이의 결합도, 응집도를 고려한다
    - 바운디드컨텍스트의 결합도, 응집도를 고려한다
- 최근 협업에 대해 강조? 하는 이유가 거대한 하나의 서비스를 여러명이서 개발 유지보수하다보니, 변경을 유연하게 할 수 있는 개발 실력 혹은 아키텍처를 강조하는거 아닐까